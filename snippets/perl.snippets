# #!/usr/bin/perl
#-------------------------------------------------------------------------------
snippet #!
	#!/usr/bin/perl

	use strict;
	use warnings;

	def main(){

	}
	
	main();
#-------------------------------------------------------------------------------
snippet my
	my $${1};${2}
#-------------------------------------------------------------------------------
snippet .
	=>
#-------------------------------------------------------------------------------
snippet %
	%${1} = (${2:a => 1} , ${3:b => 2});${4}
snippet hash
	%${1} = (${2:a => 1} , ${3:b => 2});${4}

snippet print_hash
	print "${1:my_hash}: " , "\n";
	foreach my $key (keys %$1) {
		print "  $key => \$$$1{$key}\n";
	}${2}
#-------------------------------------------------------------------------------
snippet sub
	sub ${1:function_name}
	{
		#my ( $directoryList, $singleDirectory ) = @_;
		${2:#body ...}
		#return
	}${3}
#-------------------------------------------------------------------------------
snippet print
	print "${1}" , "\n";${2}
#-------------------------------------------------------------------------------
snippet DEBUG
	print "DEBUG: ${1}" , "\n";${2}
#-------------------------------------------------------------------------------
snippet if
	if (${1}) {
		${2:# body...}
	}
#-------------------------------------------------------------------------------
snippet else
	else {
		${1:# else...}
	}${2}
#-------------------------------------------------------------------------------
snippet elif
	elsif (${1}) {
		${2:# elsif...}
	}${3}
#-------------------------------------------------------------------------------
snippet xif
	${1:expression} if ${2:condition};${3}
#-------------------------------------------------------------------------------
snippet unless
	unless (${1}) {
		${2:# body...}
#-------------------------------------------------------------------------------
snippet xunless
	${1:expression} unless ${2:condition};${3}
#-------------------------------------------------------------------------------
snippet eval
	eval {
		${1:# do something risky...}
	};
	if ($@) {
		${2:# handle failure...}
	}
#-------------------------------------------------------------------------------
snippet while
	while (${1}) {
		${2:# body...}
	}${3}
#-------------------------------------------------------------------------------
snippet xwh
	${1:expression} while ${2:condition};${3}
#-------------------------------------------------------------------------------
snippet for
	for (my $${2:var} = 0; $$2 < ${1:count}; $$2${3:++}) {
		${4:# body...}
	}${5}
#-------------------------------------------------------------------------------
snippet foreach
	foreach my $${1:x} (@${2:array}) {
		${3:# body...}
	}${4}
#-------------------------------------------------------------------------------
snippet xfore
	${1:expression} foreach @${2:array};${3}
#-------------------------------------------------------------------------------
snippet package
	package ${1:ClassName};
	
	use base qw(${2:ParentClass});
	
	sub new {
		my $class = shift;
		$class = ref $class if ref $class;
		my $self = bless {}, $class;
		$self;
	}
	
	1;${3}
#-------------------------------------------------------------------------------
snippet ret
	return $${1};${$2}
#-------------------------------------------------------------------------------
snippet class
	class ${1:Person}
	package $1;
	use strict;

	sub new {
		my ($class) = @_;
		my $self = {
			_${2:firstName} => undef,
		};
		bless $self, $class;
		return $self;
	}
	#---------------------------------------------------------------------------
	sub $2 {
		my ( $self, $2 ) = @_;
		$self->{_$2} = $$2 if defined($$2);
		return $self->{_$2};
	}
	#---------------------------------------------------------------------------
	1;
	#---------------------------------------------------------------------------
	
	my $person = new Person();${3}
#-------------------------------------------------------------------------------
snippet join
	$${1} = join('', @${2});${3}
#-------------------------------------------------------------------------------
snippet split
	@${1} = split(/ /, $${2});${3}
#-------------------------------------------------------------------------------
snippet push
	push(@${1}, $${2});${3}	
#-------------------------------------------------------------------------------
snippet slurp
	my $${1:var};
	{ local $/ = undef; local *FILE; open FILE, "<${2:file}"; $$1 = <FILE>; close FILE }${3}
#-------------------------------------------------------------------------------
snippet main
	sub main()
	{
	
	}
	
	main();
#-------------------------------------------------------------------------------
snippet getopt
	use Getopt::Long;

	my $data = "file.dat";
	my $length = 24;
	my $verbose;
	$result = GetOptions ("length=i" => \$length,    # numeric
	                      "file=s"   => \$data,      # string
	                      "verbose"  => \$verbose);  # flag
#===============================================================================
# TESTING
#===============================================================================
snippet is
	is( ${1},${2} ,"${3:comment}");${4}
